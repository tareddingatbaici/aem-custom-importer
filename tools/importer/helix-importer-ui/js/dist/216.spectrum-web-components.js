"use strict";(globalThis.webpackChunk_adobe_helix_importer_ui=globalThis.webpackChunk_adobe_helix_importer_ui||[]).push([[216],{216:(t,e,n)=>{n.r(e);var i=n(308),o=n(684),s=n(352),r=n(132),a=n(31),l=n(145),c=n(47),h=n(463);const p=new class{constructor(t={}){this.warmUpDelay=1e3,this.coolDownDelay=1e3,this.isWarm=!1,this.timeout=0,Object.assign(this,t)}async openTimer(t){if(this.cancelCooldownTimer(),!this.component||t!==this.component)return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=t,!this.isWarm&&(this.promise=new Promise((t=>{this.resolve=t,this.timeout=window.setTimeout((()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)}),this.warmUpDelay)})),this.promise);if(this.promise)return this.promise;throw new Error("Inconsistent state")}close(t){this.component&&this.component===t&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout((()=>{this.isWarm=!1,delete this.cooldownTimeout}),this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}},d=()=>{};class u extends Event{constructor(){super("beforetoggle",{bubbles:!1,composed:!1}),this.currentState="open",this.newState="closed"}}class g extends Event{constructor(){super("beforetoggle",{bubbles:!1,composed:!1}),this.currentState="closed",this.newState="open"}}class m extends Event{constructor(t,e,{publish:n,interaction:i,reason:o}){super(t,{bubbles:n,composed:n}),this.overlay=e,this.detail={interaction:i,reason:o}}}const f=(t,e,n)=>{const i=new AbortController,o=new Map,s=()=>{i.abort(),n()};let r,a;const l=requestAnimationFrame((()=>{r=requestAnimationFrame((()=>{a=requestAnimationFrame((()=>{s()}))}))})),c=e=>{e.target===t&&(o.set(e.propertyName,o.get(e.propertyName)-1),o.get(e.propertyName)||o.delete(e.propertyName),0===o.size&&s())};t.addEventListener("transitionrun",(e=>{e.target===t&&(o.has(e.propertyName)||o.set(e.propertyName,0),o.set(e.propertyName,o.get(e.propertyName)+1),cancelAnimationFrame(l),cancelAnimationFrame(r),cancelAnimationFrame(a))}),{signal:i.signal}),t.addEventListener("transitionend",c,{signal:i.signal}),t.addEventListener("transitioncancel",c,{signal:i.signal}),e()};function v(){return new Promise((t=>requestAnimationFrame((()=>t()))))}class y extends h.w{constructor(){super(...arguments),this.dispose=d,this.offset=0,this.willPreventClose=!1}async applyFocus(t,e){}get delayed(){return!1}set delayed(t){}get disabled(){return!1}set disabled(t){}get elementResolver(){return this._elementResolver}set elementResolver(t){this._elementResolver=t}async ensureOnDOM(t){}async makeTransition(t){return null}async manageDelay(t){}async manageDialogOpen(){}async managePopoverOpen(){}managePosition(){}get open(){return!1}set open(t){}get placementController(){return this._placementController}set placementController(t){this._placementController=t}requestSlottable(){}returnFocus(){}get state(){return"closed"}set state(t){}manuallyKeepOpen(){}static update(){const t=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(t)}static async open(t,e,i,o){await Promise.resolve().then(n.bind(n,216));const s=2===arguments.length,r=i||t,a=new this;let l=!1;a.dispose=()=>{a.addEventListener("sp-closed",(()=>{l||(c(),l=!0),requestAnimationFrame((()=>{a.remove()}))})),a.open=!1,a.dispose=d};const c=((t,e,{position:n,prepareCallback:i}={position:"beforeend"})=>{let{length:o}=t;if(0===o)return()=>t;let s=1,r=0;("afterbegin"===n||"afterend"===n)&&(s=-1,r=o-1);const a=new Array(o),l=new Array(o),c=document.createComment("placeholder for reparented element");do{const o=t[r];i&&(l[r]=i(o)),a[r]=c.cloneNode();const h=o.parentElement||o.getRootNode();h&&h!==o&&h.replaceChild(a[r],o),e.insertAdjacentElement(n,o),r+=s}while(--o>0);return function(){return function(t,e,n=[]){for(let i=0;i<e.length;++i){const o=e[i],s=t[i],r=s.parentElement||s.getRootNode();n[i]&&n[i](o),r&&r!==s&&r.replaceChild(o,s),delete t[i]}return e}(a,t,l)}})([r],a,{position:"beforeend",prepareCallback:t=>{const e=t.slot;return t.removeAttribute("slot"),()=>{t.slot=e}}});if(!s&&r&&o){const n=t,i=e,s=o;return y.applyOptions(a,{...s,delayed:s.delayed||r.hasAttribute("delayed"),trigger:s.virtualTrigger||n,type:"modal"===i?"modal":"hover"===i?"hint":"auto"}),n.insertAdjacentElement("afterend",a),await a.updateComplete,a.open=!0,a.dispose}const h=e;return a.append(r),y.applyOptions(a,{...h,delayed:h.delayed||r.hasAttribute("delayed")}),a.updateComplete.then((()=>{a.open=!0})),a}static applyOptions(t,e){var n,i;t.delayed=!!e.delayed,t.receivesFocus=null!=(n=e.receivesFocus)?n:"auto",t.triggerElement=e.trigger||null,t.type=e.type||"modal",t.offset=null!=(i=e.offset)?i:0,t.placement=e.placement,t.willPreventClose=!!e.notImmediatelyClosable}}var w=n(415);class b{constructor(t,e){this.x=0,this.y=0,this.x=t,this.y=e}updateBoundingClientRect(t,e){this.x=t,this.y=e,y.update()}getBoundingClientRect(){return{width:0,height:0,top:this.y,right:this.x,y:this.y,x:this.x,bottom:this.y,left:this.x,toJSON(){}}}}var E=n(367);const x=CSS.supports("(overlay: auto)");function P(t){let e=!1;try{e=t.matches(":popover-open")}catch(t){}let n=!1;try{n=t.matches(":open")}catch(t){}return e||n}const C="showPopover"in document.createElement("div"),T=new class{constructor(){this.root=document.body,this.stack=[],this.handlePointerdown=t=>{this.pointerdownPath=t.composedPath(),this.lastOverlay=this.stack.at(-1)},this.handlePointerup=()=>{var t;if(!this.stack.length||null==(t=this.pointerdownPath)||!t.length)return;const e=this.pointerdownPath;this.pointerdownPath=void 0;const n=this.stack.length-1,i=this.stack.filter(((t,i)=>!e.find((e=>e===t||e===(null==t?void 0:t.triggerElement)&&"hint"===(null==t?void 0:t.type)||i===n&&t!==this.lastOverlay&&"longpress"===t.triggerInteraction))&&!t.shouldPreventClose()&&"manual"!==t.type));i.reverse(),i.forEach((t=>{this.closeOverlay(t);let e=t.parentOverlayToForceClose;for(;e;)this.closeOverlay(e),e=e.parentOverlayToForceClose}))},this.handleBeforetoggle=t=>{const{target:e,newState:n}=t;"open"!==n&&this.closeOverlay(e)},this.handleKeydown=t=>{if("Escape"!==t.code||!this.stack.length)return;const e=this.stack.at(-1);"page"!==(null==e?void 0:e.type)?C||"manual"!==(null==e?void 0:e.type)&&e&&this.closeOverlay(e):t.preventDefault()},this.bindEvents()}get document(){return this.root.ownerDocument||document}bindEvents(){this.document.addEventListener("pointerdown",this.handlePointerdown),this.document.addEventListener("pointerup",this.handlePointerup),this.document.addEventListener("keydown",this.handleKeydown)}closeOverlay(t){const e=this.stack.indexOf(t);e>-1&&this.stack.splice(e,1),t.open=!1}overlaysByTriggerElement(t){return this.stack.filter((e=>e.triggerElement===t))}add(t){if(this.stack.includes(t)){const e=this.stack.indexOf(t);e>-1&&(this.stack.splice(e,1),this.stack.push(t))}else{if("auto"===t.type||"modal"===t.type||"page"===t.type){const e="sp-overlay-query-path",n=new Event(e,{composed:!0,bubbles:!0});t.addEventListener(e,(t=>{const e=t.composedPath();this.stack.forEach((t=>{!e.find((e=>e===t))&&"manual"!==t.type&&this.closeOverlay(t)}))}),{once:!0}),t.dispatchEvent(n)}else if("hint"===t.type){if(this.stack.some((e=>"manual"!==e.type&&e.triggerElement&&e.triggerElement===t.triggerElement)))return void(t.open=!1);this.stack.forEach((t=>{"hint"===t.type&&this.closeOverlay(t)}))}requestAnimationFrame((()=>{this.stack.push(t),t.addEventListener("beforetoggle",this.handleBeforetoggle,{once:!0})}))}}remove(t){this.closeOverlay(t)}},O=Math.min,L=Math.max,R=Math.round,D=Math.floor,k=t=>({x:t,y:t}),A={left:"right",right:"left",bottom:"top",top:"bottom"},S={start:"end",end:"start"};function F(t,e,n){return L(t,O(e,n))}function N(t,e){return"function"==typeof t?t(e):t}function M(t){return t.split("-")[0]}function $(t){return t.split("-")[1]}function q(t){return"x"===t?"y":"x"}function _(t){return"y"===t?"height":"width"}function H(t){return["top","bottom"].includes(M(t))?"y":"x"}function W(t){return q(H(t))}function B(t){return t.replace(/start|end/g,(t=>S[t]))}function I(t){return t.replace(/left|right|bottom|top/g,(t=>A[t]))}function V(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function U(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function z(t,e,n){let{reference:i,floating:o}=t;const s=H(e),r=W(e),a=_(r),l=M(e),c="y"===s,h=i.x+i.width/2-o.width/2,p=i.y+i.height/2-o.height/2,d=i[a]/2-o[a]/2;let u;switch(l){case"top":u={x:h,y:i.y-o.height};break;case"bottom":u={x:h,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:p};break;case"left":u={x:i.x-o.width,y:p};break;default:u={x:i.x,y:i.y}}switch($(e)){case"start":u[r]-=d*(n&&c?-1:1);break;case"end":u[r]+=d*(n&&c?-1:1)}return u}async function j(t,e){var n;void 0===e&&(e={});const{x:i,y:o,platform:s,rects:r,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:d=!1,padding:u=0}=N(e,t),g=V(u),m=a[d?"floating"===p?"reference":"floating":p],f=U(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(m)))||n?m:m.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),v="floating"===p?{...r.floating,x:i,y:o}:r.reference,y=await(null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),w=await(null==s.isElement?void 0:s.isElement(y))&&await(null==s.getScale?void 0:s.getScale(y))||{x:1,y:1},b=U(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(f.top-b.top+g.top)/w.y,bottom:(b.bottom-f.bottom+g.bottom)/w.y,left:(f.left-b.left+g.left)/w.x,right:(b.right-f.right+g.right)/w.x}}function K(t){return X(t)?(t.nodeName||"").toLowerCase():"#document"}function Z(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function J(t){var e;return null==(e=(X(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function X(t){return t instanceof Node||t instanceof Z(t).Node}function Y(t){return t instanceof Element||t instanceof Z(t).Element}function G(t){return t instanceof HTMLElement||t instanceof Z(t).HTMLElement}function Q(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof Z(t).ShadowRoot)}function tt(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=rt(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}function et(t){return["table","td","th"].includes(K(t))}function nt(t){const e=ot(),n=rt(t);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function it(t){let e=lt(t);for(;G(e)&&!st(e);){if(nt(e))return e;e=lt(e)}return null}function ot(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function st(t){return["html","body","#document"].includes(K(t))}function rt(t){return Z(t).getComputedStyle(t)}function at(t){return Y(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function lt(t){if("html"===K(t))return t;const e=t.assignedSlot||t.parentNode||Q(t)&&t.host||J(t);return Q(e)?e.host:e}function ct(t){const e=lt(t);return st(e)?t.ownerDocument?t.ownerDocument.body:t.body:G(e)&&tt(e)?e:ct(e)}function ht(t,e,n){var i;void 0===e&&(e=[]),void 0===n&&(n=!0);const o=ct(t),s=o===(null==(i=t.ownerDocument)?void 0:i.body),r=Z(o);return s?e.concat(r,r.visualViewport||[],tt(o)?o:[],r.frameElement&&n?ht(r.frameElement):[]):e.concat(o,ht(o,[],n))}function pt(t){const e=rt(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=G(t),s=o?t.offsetWidth:n,r=o?t.offsetHeight:i,a=R(n)!==s||R(i)!==r;return a&&(n=s,i=r),{width:n,height:i,$:a}}function dt(t){return Y(t)?t:t.contextElement}function ut(t){const e=dt(t);if(!G(e))return k(1);const n=e.getBoundingClientRect(),{width:i,height:o,$:s}=pt(e);let r=(s?R(n.width):n.width)/i,a=(s?R(n.height):n.height)/o;return r&&Number.isFinite(r)||(r=1),a&&Number.isFinite(a)||(a=1),{x:r,y:a}}const gt=k(0);function mt(t){const e=Z(t);return ot()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:gt}function ft(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1);const o=t.getBoundingClientRect(),s=dt(t);let r=k(1);e&&(i?Y(i)&&(r=ut(i)):r=ut(t));const a=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==Z(t))&&e}(s,n,i)?mt(s):k(0);let l=(o.left+a.x)/r.x,c=(o.top+a.y)/r.y,h=o.width/r.x,p=o.height/r.y;if(s){const t=Z(s),e=i&&Y(i)?Z(i):i;let n=t.frameElement;for(;n&&i&&e!==t;){const t=ut(n),e=n.getBoundingClientRect(),i=rt(n),o=e.left+(n.clientLeft+parseFloat(i.paddingLeft))*t.x,s=e.top+(n.clientTop+parseFloat(i.paddingTop))*t.y;l*=t.x,c*=t.y,h*=t.x,p*=t.y,l+=o,c+=s,n=Z(n).frameElement}}return U({width:h,height:p,x:l,y:c})}const vt=[":popover-open",":modal"];function yt(t){let e=!1,n=0,i=0;if(vt.forEach((n=>{!function(n){try{e=e||t.matches(n)}catch(t){}}(n)})),e){const e=it(t);if(e){const t=e.getBoundingClientRect();n=t.x,i=t.y}}return[e,n,i]}function wt(t){return ft(J(t)).left+at(t).scrollLeft}function bt(t,e,n){let i;if("viewport"===e)i=function(t,e){const n=Z(t),i=J(t),o=n.visualViewport;let s=i.clientWidth,r=i.clientHeight,a=0,l=0;if(o){s=o.width,r=o.height;const t=ot();(!t||t&&"fixed"===e)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:r,x:a,y:l}}(t,n);else if("document"===e)i=function(t){const e=J(t),n=at(t),i=t.ownerDocument.body,o=L(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=L(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let r=-n.scrollLeft+wt(t);const a=-n.scrollTop;return"rtl"===rt(i).direction&&(r+=L(e.clientWidth,i.clientWidth)-o),{width:o,height:s,x:r,y:a}}(J(t));else if(Y(e))i=function(t,e){const n=ft(t,!0,"fixed"===e),i=n.top+t.clientTop,o=n.left+t.clientLeft,s=G(t)?ut(t):k(1);return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:o*s.x,y:i*s.y}}(e,n);else{const n=mt(t);i={...e,x:e.x-n.x,y:e.y-n.y}}return U(i)}function Et(t,e){const n=lt(t);return!(n===e||!Y(n)||st(n))&&("fixed"===rt(n).position||Et(n,e))}function xt(t,e,n,i){const o=G(e),s=J(e),r="fixed"===n,a=ft(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const c=k(0);if(o||!o&&!r)if(("body"!==K(e)||tt(s))&&(l=at(e)),o){const t=ft(e,!0,r,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else s&&(c.x=wt(s));let h=a.left+l.scrollLeft-c.x,p=a.top+l.scrollTop-c.y;const[d,u,g]=yt(i);return d&&(h+=u,p+=g,o&&(h+=e.clientLeft,p+=e.clientTop)),{x:h,y:p,width:a.width,height:a.height}}function Pt(t,e){return G(t)&&"fixed"!==rt(t).position?e?e(t):t.offsetParent:null}function Ct(t,e){const n=Z(t);if(!G(t))return n;let i=Pt(t,e);for(;i&&et(i)&&"static"===rt(i).position;)i=Pt(i,e);return i&&("html"===K(i)||"body"===K(i)&&"static"===rt(i).position&&!nt(i))?n:i||it(t)||n}const Tt={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:i,strategy:o}=t;const s=J(i),[r]=e?yt(e.floating):[!1];if(i===s||r)return n;let a={scrollLeft:0,scrollTop:0},l=k(1);const c=k(0),h=G(i);if((h||!h&&"fixed"!==o)&&(("body"!==K(i)||tt(s))&&(a=at(i)),G(i))){const t=ft(i);l=ut(i),c.x=t.x+i.clientLeft,c.y=t.y+i.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+c.x,y:n.y*l.y-a.scrollTop*l.y+c.y}},getDocumentElement:J,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const s=[..."clippingAncestors"===n?function(t,e){const n=e.get(t);if(n)return n;let i=ht(t,[],!1).filter((t=>Y(t)&&"body"!==K(t))),o=null;const s="fixed"===rt(t).position;let r=s?lt(t):t;for(;Y(r)&&!st(r);){const e=rt(r),n=nt(r);n||"fixed"!==e.position||(o=null),(s?!n&&!o:!n&&"static"===e.position&&o&&["absolute","fixed"].includes(o.position)||tt(r)&&!n&&Et(t,r))?i=i.filter((t=>t!==r)):o=e,r=lt(r)}return e.set(t,i),i}(e,this._c):[].concat(n),i],r=s[0],a=s.reduce(((t,n)=>{const i=bt(e,n,o);return t.top=L(i.top,t.top),t.right=O(i.right,t.right),t.bottom=O(i.bottom,t.bottom),t.left=L(i.left,t.left),t}),bt(e,r,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Ct,getElementRects:async function(t){const e=this.getOffsetParent||Ct,n=this.getDimensions;return{reference:xt(t.reference,await e(t.floating),t.strategy,t.floating),floating:{x:0,y:0,...await n(t.floating)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=pt(t);return{width:e,height:n}},getScale:ut,isElement:Y,isRTL:function(t){return"rtl"===rt(t).direction}};function Ot(t,e,n,i){void 0===i&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=i,c=dt(t),h=o||s?[...c?ht(c):[],...ht(e)]:[];h.forEach((t=>{o&&t.addEventListener("scroll",n,{passive:!0}),s&&t.addEventListener("resize",n)}));const p=c&&a?function(t,e){let n,i=null;const o=J(t);function s(){var t;clearTimeout(n),null==(t=i)||t.disconnect(),i=null}return function r(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),s();const{left:c,top:h,width:p,height:d}=t.getBoundingClientRect();if(a||e(),!p||!d)return;const u={rootMargin:-D(h)+"px "+-D(o.clientWidth-(c+p))+"px "+-D(o.clientHeight-(h+d))+"px "+-D(c)+"px",threshold:L(0,O(1,l))||1};let g=!0;function m(t){const e=t[0].intersectionRatio;if(e!==l){if(!g)return r();e?r(!1,e):n=setTimeout((()=>{r(!1,1e-7)}),100)}g=!1}try{i=new IntersectionObserver(m,{...u,root:o.ownerDocument})}catch(t){i=new IntersectionObserver(m,u)}i.observe(t)}(!0),s}(c,n):null;let d,u=-1,g=null;r&&(g=new ResizeObserver((t=>{let[i]=t;i&&i.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(u),u=requestAnimationFrame((()=>{var t;null==(t=g)||t.observe(e)}))),n()})),c&&!l&&g.observe(c),g.observe(e));let m=l?ft(t):null;return l&&function e(){const i=ft(t);!m||i.x===m.x&&i.y===m.y&&i.width===m.width&&i.height===m.height||n(),m=i,d=requestAnimationFrame(e)}(),n(),()=>{var t;h.forEach((t=>{o&&t.removeEventListener("scroll",n),s&&t.removeEventListener("resize",n)})),null==p||p(),null==(t=g)||t.disconnect(),g=null,l&&cancelAnimationFrame(d)}}const Lt=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:s=!0,crossAxis:r=!1,limiter:a={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...l}=N(t,e),c={x:n,y:i},h=await j(e,l),p=H(M(o)),d=q(p);let u=c[d],g=c[p];if(s){const t="y"===d?"bottom":"right";u=F(u+h["y"===d?"top":"left"],u,u-h[t])}if(r){const t="y"===p?"bottom":"right";g=F(g+h["y"===p?"top":"left"],g,g-h[t])}const m=a.fn({...e,[d]:u,[p]:g});return{...m,data:{x:m.x-n,y:m.y-i}}}}},Rt=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:o,middlewareData:s,rects:r,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:d,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...f}=N(t,e);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const v=M(o),y=M(a)===a,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),b=d||(y||!m?[I(a)]:function(t){const e=I(t);return[B(t),e,B(e)]}(a));d||"none"===g||b.push(...function(t,e,n,i){const o=$(t);let s=function(t,e,n){const i=["left","right"],o=["right","left"],s=["top","bottom"],r=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:i:e?i:o;case"left":case"right":return e?s:r;default:return[]}}(M(t),"start"===n,i);return o&&(s=s.map((t=>t+"-"+o)),e&&(s=s.concat(s.map(B)))),s}(a,m,g,w));const E=[a,...b],x=await j(e,f),P=[];let C=(null==(i=s.flip)?void 0:i.overflows)||[];if(h&&P.push(x[v]),p){const t=function(t,e,n){void 0===n&&(n=!1);const i=$(t),o=W(t),s=_(o);let r="x"===o?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=I(r)),[r,I(r)]}(o,r,w);P.push(x[t[0]],x[t[1]])}if(C=[...C,{placement:o,overflows:P}],!P.every((t=>t<=0))){var T,O;const t=((null==(T=s.flip)?void 0:T.index)||0)+1,e=E[t];if(e)return{data:{index:t,overflows:C},reset:{placement:e}};let n=null==(O=C.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:O.placement;if(!n)switch(u){case"bestFit":{var L;const t=null==(L=C.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:L[0];t&&(n=t);break}case"initialPlacement":n=a}if(o!==n)return{reset:{placement:n}}}return{}}}},Dt=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:i,platform:o,elements:s}=e,{apply:r=(()=>{}),...a}=N(t,e),l=await j(e,a),c=M(n),h=$(n),p="y"===H(n),{width:d,height:u}=i.floating;let g,m;"top"===c||"bottom"===c?(g=c,m=h===(await(null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(m=c,g="end"===h?"top":"bottom");const f=u-l[g],v=d-l[m],y=!e.middlewareData.shift;let w=f,b=v;if(p){const t=d-l.left-l.right;b=h||y?O(v,t):t}else{const t=u-l.top-l.bottom;w=h||y?O(f,t):t}if(y&&!h){const t=L(l.left,0),e=L(l.right,0),n=L(l.top,0),i=L(l.bottom,0);p?b=d-2*(0!==t||0!==e?t+e:L(l.left,l.right)):w=u-2*(0!==n||0!==i?n+i:L(l.top,l.bottom))}await r({...e,availableWidth:b,availableHeight:w});const E=await o.getDimensions(s.floating);return d!==E.width||u!==E.height?{reset:{rects:!0}}:{}}}},kt=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:o,rects:s,platform:r,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=N(t,e)||{};if(null==c)return{};const p=V(h),d={x:n,y:i},u=W(o),g=_(u),m=await r.getDimensions(c),f="y"===u,v=f?"top":"left",y=f?"bottom":"right",w=f?"clientHeight":"clientWidth",b=s.reference[g]+s.reference[u]-d[u]-s.floating[g],E=d[u]-s.reference[u],x=await(null==r.getOffsetParent?void 0:r.getOffsetParent(c));let P=x?x[w]:0;P&&await(null==r.isElement?void 0:r.isElement(x))||(P=a.floating[w]||s.floating[g]);const C=b/2-E/2,T=P/2-m[g]/2-1,L=O(p[v],T),R=O(p[y],T),D=L,k=P-m[g]-R,A=P/2-m[g]/2+C,S=F(D,A,k),M=!l.arrow&&null!=$(o)&&A!==S&&s.reference[g]/2-(A<D?L:R)-m[g]/2<0,q=M?A<D?A-D:A-k:0;return{[u]:d[u]+q,data:{[u]:S,centerOffset:A-S-q,...M&&{alignmentOffset:q}},reset:M}}});function At(t){if(void 0===t)return 0;const e=window.devicePixelRatio||1;return Math.round(t*e)/e}const St=t=>{var e;return null!=(e={left:["right","bottom","top"],"left-start":["right-start","bottom","top"],"left-end":["right-end","bottom","top"],right:["left","bottom","top"],"right-start":["left-start","bottom","top"],"right-end":["left-end","bottom","top"],top:["bottom","left","right"],"top-start":["bottom-start","left","right"],"top-end":["bottom-end","left","right"],bottom:["top","left","right"],"bottom-start":["top-start","left","right"],"bottom-end":["top-end","left","right"]}[t])?e:[t]};Symbol("placement updated");class Ft{constructor(t){this.originalPlacements=new WeakMap,this.allowPlacementUpdate=!1,this.closeForAncestorUpdate=()=>{!this.allowPlacementUpdate&&"modal"!==this.options.type&&this.cleanup&&this.target.dispatchEvent(new Event("close",{bubbles:!0})),this.allowPlacementUpdate=!1},this.updatePlacement=()=>{this.computePlacement()},this.resetOverlayPosition=()=>{!this.target||!this.options||(this.clearOverlayPosition(),this.host.offsetHeight,this.computePlacement())},this.host=t,this.host.addController(this)}async placeOverlay(t=this.target,e=this.options){if(this.target=t,this.options=e,!t||!e)return;const n=Ot(e.trigger,t,this.closeForAncestorUpdate,{ancestorResize:!1,elementResize:!1,layoutShift:!1}),i=Ot(e.trigger,t,this.updatePlacement,{ancestorScroll:!1});this.cleanup=()=>{var t;null==(t=this.host.elements)||t.forEach((t=>{t.addEventListener("sp-closed",(()=>{const e=this.originalPlacements.get(t);e&&t.setAttribute("placement",e),this.originalPlacements.delete(t)}),{once:!0})})),n(),i()}}async computePlacement(){var t,e;const{options:n,target:i}=this;await(document.fonts?document.fonts.ready:Promise.resolve());const o=n.trigger instanceof HTMLElement?Rt():Rt({padding:8,fallbackPlacements:St(n.placement)}),[s=0,r=0]=Array.isArray(null==n?void 0:n.offset)?n.offset:[n.offset,0],a=null==(t=this.host.elements.find((t=>t.tipElement)))?void 0:t.tipElement,l=[(u={mainAxis:s,crossAxis:r},void 0===u&&(u=0),{name:"offset",options:u,async fn(t){var e,n;const{x:i,y:o,placement:s,middlewareData:r}=t,a=await async function(t,e){const{placement:n,platform:i,elements:o}=t,s=await(null==i.isRTL?void 0:i.isRTL(o.floating)),r=M(n),a=$(n),l="y"===H(n),c=["left","top"].includes(r)?-1:1,h=s&&l?-1:1,p=N(e,t);let{mainAxis:d,crossAxis:u,alignmentAxis:g}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return a&&"number"==typeof g&&(u="end"===a?-1*g:g),l?{x:u*h,y:d*c}:{x:d*c,y:u*h}}(t,u);return s===(null==(e=r.offset)?void 0:e.placement)&&null!=(n=r.arrow)&&n.alignmentOffset?{}:{x:i+a.x,y:o+a.y,data:{...a,placement:s}}}}),Lt({padding:8}),o,Dt({padding:8,apply:({availableWidth:t,availableHeight:e,rects:{floating:n}})=>{const o=Math.max(100,Math.floor(e)),s=n.height;this.initialHeight=this.isConstrained&&this.initialHeight||s,this.isConstrained=s<this.initialHeight||o<=s;const r=this.isConstrained?`${o}px`:"";Object.assign(i.style,{maxWidth:`${Math.floor(t)}px`,maxHeight:r})}}),...a?[kt({element:a,padding:n.tipPadding||8})]:[]],{x:c,y:h,placement:p,middlewareData:d}=await((t,e,n)=>{const i=new Map,o={platform:Tt,...n},s={...o.platform,_c:i};return(async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,a=s.filter(Boolean),l=await(null==r.isRTL?void 0:r.isRTL(e));let c=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:h,y:p}=z(c,i,l),d=i,u={},g=0;for(let n=0;n<a.length;n++){const{name:s,fn:m}=a[n],{x:f,y:v,data:y,reset:w}=await m({x:h,y:p,initialPlacement:i,placement:d,strategy:o,middlewareData:u,rects:c,platform:r,elements:{reference:t,floating:e}});h=null!=f?f:h,p=null!=v?v:p,u={...u,[s]:{...u[s],...y}},w&&g<=50&&(g++,"object"==typeof w&&(w.placement&&(d=w.placement),w.rects&&(c=!0===w.rects?await r.getElementRects({reference:t,floating:e,strategy:o}):w.rects),({x:h,y:p}=z(c,d,l))),n=-1)}return{x:h,y:p,placement:d,strategy:o,middlewareData:u}})(t,e,{...o,platform:s})})(n.trigger,i,{placement:n.placement,middleware:l,strategy:"fixed"});var u;if(Object.assign(i.style,{top:"0px",left:"0px",translate:`${At(c)}px ${At(h)}px`}),i.setAttribute("actual-placement",p),null==(e=this.host.elements)||e.forEach((t=>{this.originalPlacements.has(t)||this.originalPlacements.set(t,t.getAttribute("placement")),t.setAttribute("placement",p)})),a&&d.arrow){const{x:t,y:e}=d.arrow;Object.assign(a.style,{top:p.startsWith("right")||p.startsWith("left")?"0px":"",left:p.startsWith("bottom")||p.startsWith("top")?"0px":"",translate:`${At(t)}px ${At(e)}px`})}}clearOverlayPosition(){this.target&&(this.target.style.removeProperty("max-height"),this.target.style.removeProperty("max-width"),this.initialHeight=void 0,this.isConstrained=!1)}hostConnected(){document.addEventListener("sp-update-overlays",this.resetOverlayPosition)}hostUpdated(){var t;this.host.open||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)}hostDisconnected(){var t;null==(t=this.cleanup)||t.call(this),this.cleanup=void 0,document.removeEventListener("sp-update-overlays",this.resetOverlayPosition)}}var Nt,Mt=((Nt=Mt||{})[Nt.click=0]="click",Nt[Nt.hover=1]="hover",Nt[Nt.longpress=2]="longpress",Nt);class $t{constructor(t,e,n=!1){this.host=t,this.target=e,this.isPersistent=n,this.host.addController(this),this.prepareDescription(this.target),this.isPersistent&&this.init()}get activelyOpening(){return!1}prepareDescription(t){}releaseDescription(){}shouldCompleteOpen(){}init(){}abort(){var t;this.releaseDescription(),null==(t=this.abortController)||t.abort()}hostConnected(){this.init()}hostDisconnected(){this.isPersistent||this.abort()}}var qt=n(115),_t=n(853);const Ht={touch:"Double tap and long press for additional options",keyboard:"Press Space or Alt+Down Arrow for additional options",mouse:"Click and hold for additional options"};var Wt=n(872);const Bt=o.AH`
    :host{pointer-events:none;--swc-overlay-animation-distance:var(--spectrum-spacing-100);display:contents}:host(:has(>sp-tooltip)){--swc-overlay-animation-distance:var(--spectrum-tooltip-animation-distance)}.dialog{box-sizing:border-box;--sp-overlay-open:true;background:0 0;border:0;max-width:calc(100vw - 16px);height:auto;max-height:calc(100dvh - 16px);margin:0;padding:0;display:flex;position:fixed;inset:0 auto auto 0;overflow:visible;opacity:1!important}.dialog:not([is-visible]){display:none}.dialog:focus{outline:none}dialog:modal{--mod-popover-filter:var(--spectrum-popover-filter)}:host(:not([open])) .dialog{--sp-overlay-open:false}.dialog::backdrop{display:none}.dialog:before{content:"";position:absolute;inset:-999em;pointer-events:auto!important}.dialog:not(.not-immediately-closable):before{display:none}.dialog>div{width:100%}::slotted(*){pointer-events:auto;visibility:visible!important}::slotted(sp-popover){position:static}.dialog:not([actual-placement])[placement*=top]{padding-block:var(--swc-overlay-animation-distance);margin-top:var(--swc-overlay-animation-distance)}.dialog:not([actual-placement])[placement*=right]{padding-inline:var(--swc-overlay-animation-distance);margin-left:calc(-1*var(--swc-overlay-animation-distance))}.dialog:not([actual-placement])[placement*=bottom]{padding-block:var(--swc-overlay-animation-distance);margin-top:calc(-1*var(--swc-overlay-animation-distance))}.dialog:not([actual-placement])[placement*=left]{padding-inline:var(--swc-overlay-animation-distance);margin-left:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=top]{padding-block:var(--swc-overlay-animation-distance);margin-top:var(--swc-overlay-animation-distance)}.dialog[actual-placement*=right]{padding-inline:var(--swc-overlay-animation-distance);margin-left:calc(-1*var(--swc-overlay-animation-distance))}.dialog[actual-placement*=bottom]{padding-block:var(--swc-overlay-animation-distance);margin-top:calc(-1*var(--swc-overlay-animation-distance))}.dialog[actual-placement*=left]{padding-inline:var(--swc-overlay-animation-distance);margin-left:var(--swc-overlay-animation-distance)}slot[name=longpress-describedby-descriptor]{display:none}@supports selector(:open){.dialog{opacity:0}.dialog:open{opacity:1;--mod-popover-filter:var(--spectrum-popover-filter)}}@supports selector(:popover-open){.dialog{opacity:0}.dialog:popover-open{opacity:1;--mod-popover-filter:var(--spectrum-popover-filter)}}@supports (overlay:auto){.dialog{transition:all var(--mod-overlay-animation-duration,var(--spectrum-animation-duration-100,.13s)),translate 0s,display var(--mod-overlay-animation-duration,var(--spectrum-animation-duration-100,.13s));transition-behavior:allow-discrete;display:none}.dialog:popover-open,.dialog:modal{display:flex}}@supports (not selector(:open)) and (not selector(:popover-open)){:host:not([open]) .dialog{pointer-events:none}.dialog[actual-placement]{z-index:calc(var(--swc-overlay-z-index-base,1000) + var(--swc-overlay-open-count))}}
`;var It=Object.defineProperty,Vt=Object.getOwnPropertyDescriptor,Ut=(t,e,n,i)=>{for(var o,s=i>1?void 0:i?Vt(e,n):e,r=t.length-1;r>=0;r--)(o=t[r])&&(s=(i?o(e,n,s):o(s))||s);return i&&s&&It(e,n,s),s};const zt="showPopover"in document.createElement("div");let jt=function(t){return class extends t{async manageDialogOpen(){const t=this.open;if(await this.managePosition(),this.open!==t)return;const e=await this.dialogMakeTransition(t);this.open===t&&await this.dialogApplyFocus(t,e)}async dialogMakeTransition(t){let e=null;const n=(n,o)=>async()=>{if(n.open=t,!t){const t=()=>{n.removeEventListener("close",t),i(n,o)};n.addEventListener("close",t)}if(o>0)return;const s=t?g:u;this.dispatchEvent(new s),t&&(n.matches(E.x)&&(e=n),e=e||(0,w.I)(n),e||n.querySelectorAll("slot").forEach((t=>{e||(e=(0,w.L)(t))})),this.isConnected&&!this.dialogEl.open&&this.dialogEl.showModal())},i=(e,n)=>()=>{if(this.open!==t)return;const i=t?"sp-opened":"sp-closed";if(n>0)return void e.dispatchEvent(new m(i,this,{interaction:this.type,publish:!1}));if(!this.isConnected||t!==this.open)return;const o=async()=>{const n=this.triggerElement instanceof b;this.dispatchEvent(new m(i,this,{interaction:this.type,publish:n})),e.dispatchEvent(new m(i,this,{interaction:this.type,publish:!1})),this.triggerElement&&!n&&this.triggerElement.dispatchEvent(new m(i,this,{interaction:this.type,publish:!0})),this.state=t?"opened":"closed",this.returnFocus(),await v(),await v(),t===this.open&&!1===t&&this.requestSlottable()};!t&&this.dialogEl.open?(this.dialogEl.addEventListener("close",(()=>{o()}),{once:!0}),this.dialogEl.close()):o()};return this.elements.forEach(((t,e)=>{f(t,n(t,e),i(t,e))})),e}async dialogApplyFocus(t,e){this.applyFocus(t,e)}}}(y);var Kt;zt?(Kt=jt,jt=class extends Kt{async manageDelay(t){!1!==t&&t===this.open?this.delayed&&await p.openTimer(this)&&(this.open=!t):p.close(this)}async shouldHidePopover(t){if(t&&this.open!==t)return;const e=async({newState:t}={})=>{"open"!==t&&await this.placementController.resetOverlayPosition()};P(this.dialogEl)?this.dialogEl.addEventListener("toggle",e,{once:!0}):e()}async shouldShowPopover(t){let e=!1;try{e=this.dialogEl.matches(":popover-open")}catch(t){}let n=!1;try{n=this.dialogEl.matches(":open")}catch(t){}t&&this.open===t&&!e&&!n&&this.isConnected&&(this.dialogEl.showPopover(),await this.managePosition())}async ensureOnDOM(t){await v(),x||await this.shouldHidePopover(t),await this.shouldShowPopover(t),await v()}async makeTransition(t){if(this.open!==t)return null;let e=null;const n=(n,i)=>()=>{if(n.open=t,0===i){const e=t?g:u;this.dispatchEvent(new e)}t&&(n.matches(E.x)&&(e=n),e=e||(0,w.I)(n),!e)&&n.querySelectorAll("slot").forEach((t=>{e||(e=(0,w.L)(t))}))},i=(e,n)=>async()=>{if(this.open!==t)return;const i=t?"sp-opened":"sp-closed";if(n>0)return void e.dispatchEvent(new m(i,this,{interaction:this.type,publish:!1}));const o=async()=>{if(this.open!==t)return;await v();const n=this.triggerElement instanceof b;this.dispatchEvent(new m(i,this,{interaction:this.type,publish:n})),e.dispatchEvent(new m(i,this,{interaction:this.type,publish:!1})),this.triggerElement&&!n&&this.triggerElement.dispatchEvent(new m(i,this,{interaction:this.type,publish:!0})),this.state=t?"opened":"closed",this.returnFocus(),await v(),await v(),t===this.open&&!1===t&&this.requestSlottable()};if(this.open!==t)return;const s=P(this.dialogEl);!0!==t&&s&&this.isConnected?(this.dialogEl.addEventListener("beforetoggle",(()=>{o()}),{once:!0}),this.dialogEl.hidePopover()):o()};return this.elements.forEach(((t,e)=>{f(t,n(t,e),i(t,e))})),e}}):jt=function(t){return class extends t{async managePopoverOpen(){await this.managePosition()}async manageDelay(t){!1!==t&&t===this.open?this.delayed&&await p.openTimer(this)&&(this.open=!t):p.close(this)}async ensureOnDOM(t){document.body.offsetHeight}async makeTransition(t){if(this.open!==t)return null;let e=null;const n=(n,i)=>()=>{if(t===this.open){if(n.open=t,0===i){const e=t?g:u;this.dispatchEvent(new e)}!0!==t||(n.matches(E.x)&&(e=n),e=e||(0,w.I)(n),e)||n.querySelectorAll("slot").forEach((t=>{e||(e=(0,w.L)(t))}))}},i=(e,n)=>async()=>{if(this.open!==t)return;const i=t?"sp-opened":"sp-closed";if(e.dispatchEvent(new m(i,this,{interaction:this.type})),n>0)return;const o=this.triggerElement instanceof b;this.dispatchEvent(new m(i,this,{interaction:this.type,publish:o})),this.triggerElement&&!o&&this.triggerElement.dispatchEvent(new m(i,this,{interaction:this.type,publish:!0})),this.state=t?"opened":"closed",this.returnFocus(),await v(),await v(),t===this.open&&!1===t&&this.requestSlottable()};return this.elements.forEach(((t,e)=>{f(t,n(t,e),i(t,e))})),e}}}(jt);const Zt={click:class extends $t{constructor(){super(...arguments),this.type=Mt.click,this.preventNextToggle=!1}handleClick(){this.preventNextToggle||(this.host.open=!this.host.open),this.preventNextToggle=!1}handlePointerdown(){this.preventNextToggle=this.host.open}init(){var t;null==(t=this.abortController)||t.abort(),this.abortController=new AbortController;const{signal:e}=this.abortController;this.target.addEventListener("click",(()=>this.handleClick()),{signal:e}),this.target.addEventListener("pointerdown",(()=>this.handlePointerdown()),{signal:e})}},longpress:class extends $t{constructor(){super(...arguments),this.type=Mt.longpress,this.longpressState=null,this.releaseDescription=d,this.handlePointerup=()=>{clearTimeout(this.timeout),this.target&&(this.longpressState="opening"===this.host.state?"pressed":null,document.removeEventListener("pointerup",this.handlePointerup),document.removeEventListener("pointercancel",this.handlePointerup))}}get activelyOpening(){return"opening"===this.longpressState||"pressed"===this.longpressState}handleLongpress(){this.host.open=!0,this.longpressState="potential"===this.longpressState?"opening":"pressed"}handlePointerdown(t){!this.target||0!==t.button||(this.longpressState="potential",document.addEventListener("pointerup",this.handlePointerup),document.addEventListener("pointercancel",this.handlePointerup),"holdAffordance"in this.target)||(this.timeout=setTimeout((()=>{this.target&&this.target.dispatchEvent(new CustomEvent("longpress",{bubbles:!0,composed:!0,detail:{source:"pointer"}}))}),300))}handleKeydown(t){const{code:e,altKey:n}=t;n&&"ArrowDown"===e&&(t.stopPropagation(),t.stopImmediatePropagation())}handleKeyup(t){const{code:e,altKey:n}=t;if("Space"===e||n&&"ArrowDown"===e){if(!this.target)return;t.stopPropagation(),this.target.dispatchEvent(new CustomEvent("longpress",{bubbles:!0,composed:!0,detail:{source:"keyboard"}})),setTimeout((()=>{this.longpressState=null}))}}prepareDescription(t){if(this.releaseDescription!==d||!this.host.elements.length)return;const e=document.createElement("div");e.id=`longpress-describedby-descriptor-${(0,c.l)()}`;const n=(0,_t.un)()||(0,_t.m0)()?"touch":"keyboard";e.textContent=Ht[n],e.slot="longpress-describedby-descriptor";const i=t.getRootNode();i===this.host.getRootNode()?this.host.append(e):(e.hidden=!("host"in i),t.insertAdjacentElement("afterend",e));const o=(0,qt.$)(t,"aria-describedby",[e.id]);this.releaseDescription=()=>{o(),e.remove(),this.releaseDescription=d}}shouldCompleteOpen(){this.longpressState="pressed"===this.longpressState?null:this.longpressState}init(){var t;null==(t=this.abortController)||t.abort(),this.abortController=new AbortController;const{signal:e}=this.abortController;this.target.addEventListener("longpress",(()=>this.handleLongpress()),{signal:e}),this.target.addEventListener("pointerdown",(t=>this.handlePointerdown(t)),{signal:e}),this.prepareDescription(this.target),!this.target.holdAffordance&&(this.target.addEventListener("keydown",(t=>this.handleKeydown(t)),{signal:e}),this.target.addEventListener("keyup",(t=>this.handleKeyup(t)),{signal:e}))}},hover:class extends $t{constructor(){super(...arguments),this.type=Mt.hover,this.elementIds=[],this.focusedin=!1,this.pointerentered=!1}handleTargetFocusin(){var t;null!=(t=document.activeElement)&&t.matches(":focus-visible")&&(this.host.open=!0,this.focusedin=!0)}handleTargetFocusout(){this.focusedin=!1,!this.pointerentered&&(this.host.open=!1)}handleTargetPointerenter(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=void 0),!this.host.disabled&&(this.host.open=!0,this.pointerentered=!0)}handleTargetPointerleave(){this.doPointerleave()}handleHostPointerenter(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=void 0)}handleHostPointerleave(){this.doPointerleave()}prepareDescription(){if(!this.host.elements.length)return;const t=this.target.getRootNode(),e=this.host.elements[0].getRootNode();t===this.host.getRootNode()?this.prepareOverlayRelativeDescription():t===e&&this.prepareContentRelativeDescription()}prepareOverlayRelativeDescription(){const t=(0,qt.$)(this.target,"aria-describedby",[this.host.id]);this.releaseDescription=()=>{t(),this.releaseDescription=d}}prepareContentRelativeDescription(){const t=[],e=this.host.elements.map((e=>(t.push(e.id),e.id||(e.id=`${this.host.tagName.toLowerCase()}-helper-${(0,c.l)()}`),e.id)));this.elementIds=t;const n=(0,qt.$)(this.target,"aria-describedby",e);this.releaseDescription=()=>{n(),this.host.elements.map(((t,e)=>{t.id=this.elementIds[e]})),this.releaseDescription=d}}doPointerleave(){this.pointerentered=!1;const t=this.target;this.focusedin&&t.matches(":focus-visible")||(this.hoverTimeout=setTimeout((()=>{this.host.open=!1}),300))}init(){var t;null==(t=this.abortController)||t.abort(),this.abortController=new AbortController;const{signal:e}=this.abortController;this.target.addEventListener("focusin",(()=>this.handleTargetFocusin()),{signal:e}),this.target.addEventListener("focusout",(()=>this.handleTargetFocusout()),{signal:e}),this.target.addEventListener("pointerenter",(()=>this.handleTargetPointerenter()),{signal:e}),this.target.addEventListener("pointerleave",(()=>this.handleTargetPointerleave()),{signal:e}),this.host.addEventListener("pointerenter",(()=>this.handleHostPointerenter()),{signal:e}),this.host.addEventListener("pointerleave",(()=>this.handleHostPointerleave()),{signal:e})}}},Jt=class t extends jt{constructor(){super(...arguments),this._delayed=!1,this._disabled=!1,this.offset=0,this._open=!1,this.lastRequestSlottableState=!1,this.receivesFocus="auto",this._state="closed",this.triggerElement=null,this.type="auto",this.wasOpen=!1,this.closeOnFocusOut=t=>{if(!t.relatedTarget)return;const e=new Event("overlay-relation-query",{bubbles:!0,composed:!0});t.relatedTarget.addEventListener(e.type,(t=>{t.composedPath().includes(this)||(this.open=!1)})),t.relatedTarget.dispatchEvent(e)}}get delayed(){var t;return(null==(t=this.elements.at(-1))?void 0:t.hasAttribute("delayed"))||this._delayed}set delayed(t){this._delayed=t}get disabled(){return this._disabled}set disabled(t){var e;this._disabled=t,t?(null==(e=this.strategy)||e.abort(),this.wasOpen=this.open,this.open=!1):(this.bindEvents(),this.open=this.open||this.wasOpen,this.wasOpen=!1)}get hasNonVirtualTrigger(){return!(!this.triggerElement||this.triggerElement instanceof b)}get placementController(){return this._placementController||(this._placementController=new Ft(this)),this._placementController}get open(){return this._open}set open(e){var n;e&&this.disabled||e!==this.open&&(null!=(n=this.strategy)&&n.activelyOpening&&!e||(this._open=e,this.open&&(t.openCount+=1),this.requestUpdate("open",!this.open),this.open&&this.requestSlottable()))}get state(){return this._state}set state(t){var e;if(t===this.state)return;const n=this.state;this._state=t,("opened"===this.state||"closed"===this.state)&&(null==(e=this.strategy)||e.shouldCompleteOpen()),this.requestUpdate("state",n)}get elementResolver(){return this._elementResolver||(this._elementResolver=new r.b(this)),this._elementResolver}get usesDialog(){return"modal"===this.type||"page"===this.type}get popoverValue(){if("popover"in this)switch(this.type){case"modal":case"page":return;case"hint":return"manual";default:return this.type}}get requiresPosition(){return!("page"===this.type||!this.open||!this.triggerElement||!this.placement&&"hint"!==this.type)}managePosition(){if(!this.requiresPosition||!this.open)return;const t=this.offset||0,e=this.triggerElement,n=this.placement||"right",i=this.tipPadding;this.placementController.placeOverlay(this.dialogEl,{offset:t,placement:n,tipPadding:i,trigger:e,type:this.type})}async managePopoverOpen(){super.managePopoverOpen();const t=this.open;if(this.open!==t||(await this.manageDelay(t),this.open!==t)||(await this.ensureOnDOM(t),this.open!==t))return;const e=await this.makeTransition(t);this.open===t&&await this.applyFocus(t,e)}async applyFocus(t,e){if("false"!==this.receivesFocus&&"hint"!==this.type){if(await v(),await v(),t===this.open&&!this.open)return void(this.hasNonVirtualTrigger&&this.contains(this.getRootNode().activeElement)&&this.triggerElement.focus());null==e||e.focus()}}returnFocus(){var t;this.open||"hint"===this.type||null!=(t=this.triggerElement)&&t.focus&&(this.contains(this.getRootNode().activeElement)||(()=>{var t,e;const n=[];let i=document.activeElement;for(;null!=(t=null==i?void 0:i.shadowRoot)&&t.activeElement;)i=i.shadowRoot.activeElement;for(;i;){const t=i.assignedSlot||i.parentElement||(null==(e=i.getRootNode())?void 0:e.host);t&&n.push(t),i=t}return n})().includes(this)||document.activeElement===document.body)&&this.triggerElement.focus()}async manageOpen(t){if((this.isConnected||!this.open)&&(this.hasUpdated||await this.updateComplete,this.open?(T.add(this),this.willPreventClose&&(document.addEventListener("pointerup",(()=>{this.dialogEl.classList.toggle("not-immediately-closable",!1),this.willPreventClose=!1}),{once:!0}),this.dialogEl.classList.toggle("not-immediately-closable",!0))):(t&&this.dispose(),T.remove(this)),this.open&&"opened"!==this.state?this.state="opening":!this.open&&"closed"!==this.state&&(this.state="closing"),this.usesDialog?this.manageDialogOpen():this.managePopoverOpen(),"auto"===this.type)){const t=this.getRootNode();this.open?t.addEventListener("focusout",this.closeOnFocusOut,{capture:!0}):t.removeEventListener("focusout",this.closeOnFocusOut,{capture:!0})}}bindEvents(){var t;null==(t=this.strategy)||t.abort(),this.strategy=void 0,this.hasNonVirtualTrigger&&this.triggerInteraction&&(this.strategy=new Zt[this.triggerInteraction](this,this.triggerElement))}handleBeforetoggle(t){"open"!==t.newState&&this.handleBrowserClose()}handleBrowserClose(){var t;null!=(t=this.strategy)&&t.activelyOpening?this.manuallyKeepOpen():this.open=!1}manuallyKeepOpen(){this.open=!0,this.placementController.allowPlacementUpdate=!0,this.manageOpen(!1)}handleSlotchange(){var t,e;this.elements.length?this.hasNonVirtualTrigger&&(null==(e=this.strategy)||e.prepareDescription(this.triggerElement)):null==(t=this.strategy)||t.releaseDescription()}shouldPreventClose(){const t=this.willPreventClose;return this.willPreventClose=!1,t}requestSlottable(){this.lastRequestSlottableState!==this.open&&(this.open||document.body.offsetHeight,this.dispatchEvent(new Wt.W("overlay-content",this.open?{}:Wt.g)),this.lastRequestSlottableState=this.open)}willUpdate(t){var e;if(this.hasAttribute("id")||this.setAttribute("id",`${this.tagName.toLowerCase()}-${(0,c.l)()}`),t.has("open")&&(void 0!==t.get("open")||this.open)&&this.manageOpen(t.get("open")),t.has("trigger")){const[t,n]=(null==(e=this.trigger)?void 0:e.split("@"))||[];this.elementResolver.selector=t?`#${t}`:"",this.triggerInteraction=n}let n=!1;t.has(r.i)&&(n=this.triggerElement,this.triggerElement=this.elementResolver.element),t.has("triggerElement")&&(n=t.get("triggerElement")),!1!==n&&this.bindEvents()}updated(t){super.updated(t),t.has("placement")&&(this.placement?this.dialogEl.setAttribute("actual-placement",this.placement):this.dialogEl.removeAttribute("actual-placement"),this.open&&void 0!==t.get("placement")&&this.placementController.resetOverlayPosition()),t.has("state")&&"closed"===this.state&&void 0!==t.get("state")&&this.placementController.clearOverlayPosition()}renderContent(){return o.qy`
            <slot @slotchange=${this.handleSlotchange}></slot>
        `}get dialogStyleMap(){return{"--swc-overlay-open-count":t.openCount.toString()}}renderDialog(){return o.qy`
            <dialog
                class="dialog"
                part="dialog"
                placement=${(0,a.J)(this.requiresPosition?this.placement||"right":void 0)}
                style=${(0,l.W)(this.dialogStyleMap)}
                @close=${this.handleBrowserClose}
                @cancel=${this.handleBrowserClose}
                @beforetoggle=${this.handleBeforetoggle}
                ?is-visible=${"closed"!==this.state}
            >
                ${this.renderContent()}
            </dialog>
        `}renderPopover(){return o.qy`
            <div
                class="dialog"
                part="dialog"
                placement=${(0,a.J)(this.requiresPosition?this.placement||"right":void 0)}
                popover=${(0,a.J)(this.popoverValue)}
                style=${(0,l.W)(this.dialogStyleMap)}
                @beforetoggle=${this.handleBeforetoggle}
                @close=${this.handleBrowserClose}
                ?is-visible=${"closed"!==this.state}
            >
                ${this.renderContent()}
            </div>
        `}render(){const t="modal"===this.type||"page"===this.type;return o.qy`
            ${t?this.renderDialog():this.renderPopover()}
            <slot name="longpress-describedby-descriptor"></slot>
        `}connectedCallback(){super.connectedCallback(),this.addEventListener("close",(()=>{this.open=!1})),this.hasUpdated&&this.bindEvents()}disconnectedCallback(){var t;null==(t=this.strategy)||t.releaseDescription(),this.open=!1,super.disconnectedCallback()}};Jt.styles=[Bt],Jt.openCount=1,Ut([(0,s.MZ)({type:Boolean})],Jt.prototype,"delayed",1),Ut([(0,s.P)(".dialog")],Jt.prototype,"dialogEl",2),Ut([(0,s.MZ)({type:Boolean})],Jt.prototype,"disabled",1),Ut([(0,s.KN)({flatten:!0,selector:':not([slot="longpress-describedby-descriptor"], slot)'})],Jt.prototype,"elements",2),Ut([(0,s.MZ)({type:Number})],Jt.prototype,"offset",2),Ut([(0,s.MZ)({type:Boolean,reflect:!0})],Jt.prototype,"open",1),Ut([(0,s.MZ)()],Jt.prototype,"placement",2),Ut([(0,s.MZ)({attribute:"receives-focus"})],Jt.prototype,"receivesFocus",2),Ut([(0,s.P)("slot")],Jt.prototype,"slotEl",2),Ut([(0,s.wk)()],Jt.prototype,"state",1),Ut([(0,s.MZ)({type:Number,attribute:"tip-padding"})],Jt.prototype,"tipPadding",2),Ut([(0,s.MZ)()],Jt.prototype,"trigger",2),Ut([(0,s.MZ)({attribute:!1})],Jt.prototype,"triggerElement",2),Ut([(0,s.MZ)({attribute:!1})],Jt.prototype,"triggerInteraction",2),Ut([(0,s.MZ)()],Jt.prototype,"type",2);let Xt=Jt;(0,i.e)("sp-overlay",Xt)},415:(t,e,n)=>{n.d(e,{I:()=>o,L:()=>s});var i=n(367);const o=t=>t.querySelector(i.x),s=t=>t.assignedElements().find((t=>t.matches(i.x)))},367:(t,e,n)=>{n.d(e,{x:()=>s});const i=["button","[focusable]","[href]","input","label","select","textarea","[tabindex]"],o=':not([tabindex="-1"])',s=i.join(`${o}, `)+o;i.join(", ")}}]);